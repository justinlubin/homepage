<!DOCTYPE html>

<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Installing Edit Mirror</title>
    <link rel="stylesheet" href="installation.css" />
  </head>
  <body>
    <h1>Installing Edit Mirror</h1>

    <div>
      <p>
        Thank you for participating in our research study!
      </p>

      <p>
        If you have any questions about the following installation instructions,
        please do not hesitate to reach out to me, Justin Lubin, at
        <a href="mailto://justinlubin@berkeley.edu">
          justinlubin@berkeley.edu</a>!
      </p>
    </div>

    <h2>Overview</h2>

    <p>
      Participation in this study entails using an editor plugin we made called
      <i>Edit Mirror</i> that logs the edits you make to an open source
      programming project of your choice. We implemented this plugin using the
      language server protocol (LSP), so you should be able to use this plugin
      with any editor that supports the LSP.
    </p>

    <p>
      Here is an overview of the installation process (described in more detail
      below):
    </p>

    <ol>
      <li>
        Install the Edit Mirror utility suite, which includes tools
        like the <i>Edit Mirror language server</i> and an <i>automated
        redactor</i> (in case you type sensitive information into your editor).
      </li>

      <li>
        Configure your editor to be a language client for the Edit
        Mirror language server.
      </li>

      <li>
        Initialize Edit Mirror in the project root of your open source
        programming project of choice.
      </li>

      <li>
        Replace any references to the <code>elm</code> binary in your
        build scripts with a lightweight wrapper around the <code>elm</code>
        binary we wrote that is included in the Edit Mirror utility suite.
      </li>
    </ol>

    <p>
      This process will result in the following files being created on your
      machine:
    </p>

    <ul>
      <li>
        In a directory of your choice on your <code>PATH</code> (default
        <code>~/bin</code>):
        <ul>
          <li>
            <code>edit-mirror</code> (the Edit Mirror utility suite program)
          </li>
          <li>
            <code>edit-mirror-repo</code> (a directory containing supporting
            files for the Edit Mirror utility suite)
          </li>
        </ul>
      </li>

      <li>
        In the project root of your open source programming project of choice:
        <ul>
          <li>
            <code>___edit-mirror___</code> (a directory storing Edit Mirror
            data and metadata, including unuploaded log data)
          </li>
        </ul>
      </li>
    </ul>

    <p>
      To uninstall Edit Mirror, simply remove these files as well as any
      editor-specific configurations you made and plugins you installed.
    </p>

    <h2>Part 1: Installing the Edit Mirror utility suite</h2>

    <p>
      For this step, you will run our
      <a href="TODO">
        Edit Mirror language server installation script</a>,
      which will ask you a couple basic configuration and demographic
      questions.
    </p>

    <p>
      Two quick notes about the installation script:
    </p>

    <ul>
      <li>
        Please ensure that the installation directory you choose is on your
        <code>PATH</code>.
      </li>
      <li>
        The script will ask you for your Edit Mirror ID; this should have been
        provided to you in an email from Justin Lubin
        (<a href="mailto://justinlubin@berkeley.edu">justinlubin@berkeley.edu</a>).
        If not, please reach out to Justin via email.
      </li>
    </ul>

    <p>
      An easy way to run the installation script is to execute the following
      command in your terminal:
      <code>
        <pre>curl --proto '=https' -sSfL TODO | sh</pre>
      </code>
    </p>

    <p>
      For information about how to use Edit Mirror utilities (including the
      automated redactor), please refer to our
      <a href="TODO">
        Edit Mirror documentation</a>
      or simply type
      <code>
        <pre>edit-mirror</pre>
      </code>
      in your terminal.
    </p>

    <h2>Part 2: Configuring your editor to be a language client</h2>

    <p>
      At a high level, here is what you need to do to configure any editor that
      supports the LSP to be an Edit Mirror language client:
    </p>

    <ol>
      <li>
        Install an LSP plugin for your editor (if you haven&rsquo;t already).
      </li>

      <li>
        Configure the LSP plugin to use the Edit Mirror language server for Elm
        (<code>.elm</code>) files. Since the Edit mirror language server should
        already be on your <code>PATH</code>, you should be able to simply tell
        your LSP plugin to run the command <code>edit-mirror-lsp-server</code>.
      </li>
    </ol>

    <p>
      We&rsquo;ve provided some tips for a few editors below, but the two steps
      listed above should apply to any editor that supports the LSP!
    </p>

    <h3>Visual Studio Code</h3>

    <p>
      For Visual Studio Code, all you need to do is install the
      <a href="TODO">
        Edit Mirror Language Client plugin</a>.
    </p>

    <h3>Vim</h3>

    <p>
      For Vim, we strongly recommend using
      <a href="TODO">
        LanguageClient-neovim</a>. In your <code>vimrc</code> file, you would
      then use the following configuration:
      <code>
<pre>
let g:LanguageClient_serverCommands = {
  \ 'elm': ['edit-mirror-lsp-server'],
  \ }
</pre>
      </code>
    </p>

    <h2>Part 3: Initializing Edit Mirror for your programming project</h2>

    <p>
      Please perform the following steps:
    </p>

    <ol>
      <li>
        In your terminal, bavigate to the project root of the open source
        programming project that you wish to have Edit Mirror track.  (The
        project root is likely the directory containing your
        <code>elm.json</code> file!)
      </li>
      <li>
        Run the following command:
        <code>
          <pre>edit-mirror init</pre>
        </code>
      </li>
    </ol>

    <p>
      If you would like to use Edit Mirror with multiple open source programming
      projects, please feel free to repeat this step for the other project roots!
    </p>

    <h2>Part 4: Using the Edit Mirror <code>elm</code> wrapper</h2>

    <p>
      For the final step of installation, please replace any use of the
      <code>elm</code> binary in your build scripts or workflow with the command
      <code>edit-mirror elm</code>.
    </p>

    <p>
      For example, instead of running <code>elm make</code> to build your
      project, please run <code>edit-mirror elm make</code>.
    </p>

    <p>
      If you haven&rsquo;t already, we recommend wrapping your build command in
      a <code>Makefile</code> or <code>build.sh</code> file so you can keep
      your build command short and not worry about needing to use our
      <code>elm</code> wrapper.
    </p>

    <div>
      <p>
        And that&rsquo;s it, you&rsquo;ve successfully installed Edit Mirror!
        Thank you once again for your participation in this study, and happy
        coding!
      </p>

      <p id="signature">
        &mdash; Justin Lubin
        (<a href="mailto://justinlubin@berkeley.edu">justinlubin@berkeley.edu</a>)
      </p>
    </div>

  </body>
</html>
